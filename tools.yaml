tools:
  - name: run_command
    description: "Execute shell commands with proper error handling."
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why this command helps achieve the current goal"
        command:
          type: string
          description: "Command to execute"
        working_directory:
          type: string
          description: "Working directory for command execution"
        timeout:
          type: integer
          description: "Timeout in seconds"
          default: 30
      required: ["reasoning", "command"]
    category: command_execution
  - name: read_file
    description: "Read file contents with pagination"
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why reading this file helps achieve the current goal"
        file_path:
          type: string
          description: "Path to the file to read"
        start_line:
          type: integer
          description: "Line number to start reading from (1-based)"
          default: 1
        max_lines:
          type: integer
          description: "Maximum number of lines to read"
          default: 200
      required: ["reasoning", "file_path"]
    category: file_operations
  - name: semantic_search
    description: "Performs a semantic search over the codebase to find relevant code snippets based on meaning, not just keywords. Useful for follow-up questions or when the initial context is insufficient."
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why this search helps achieve the current goal"
        query:
          type: string
          description: "Natural language query to search for relevant code"
        top_k:
          type: integer
          description: "Number of top results to return"
          default: 5
      required: ["reasoning", "query"]
    category: search
  - name: ripgrep
    description: "Search for text patterns in files"
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why this search pattern helps achieve the current goal"
        pattern:
          type: string
          description: "Text pattern to search for"
        extension:
          type: string
          description: "File extension to search (e.g., 'py', 'js', 'txt')"
        max_count:
          type: integer
          description: "Maximum number of matches to return"
          default: 300
      required: ["reasoning", "pattern"]
    category: search
  - name: write_to_file
    description: "Create or overwrite a file with specified content"
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why creating/modifying this file helps achieve the current goal"
        file_path:
          type: string
          description: "Path to the file to create or modify"
        content:
          type: string
          description: "Content to write to the file"
      required: ["reasoning", "file_path", "content"]
    category: file_operations
  - name: install_app
    description: "Install apt packages non-interactively with sudo"
    schema:
      type: object
      properties:
        reasoning:
          type: string
          description: "Why installing these packages helps achieve the current goal"
        packages:
          description: "Package name(s) to install. Can be a single string or an array of strings"
          anyOf:
            - type: string
            - type: array
              items:
                type: string
      required: ["reasoning", "packages"]
    category: system_management